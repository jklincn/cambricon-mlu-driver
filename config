#1. get platform
ifneq (,$(filter $(BOARD_NAME), c20e_soc ce3226_soc ce3225_soc))
#insmod cndrv_host in device of edge platform.
CONFIG_CNDRV_EDGE_PLATFORM=y
else ifeq ($(__BUILDING_OPTS__),aarch64-linux-gnu-)
#insmod cndrv_host in device of pcie platform.
CONFIG_CNDRV_PCIE_ARM_PLATFORM=y
else
#other insmod cndrv_host in host of pcie platform.
CONFIG_CNDRV_PCIE_PLATFORM=y
endif

#2. select module of driver.
ifeq ($(CONFIG_CNDRV_EDGE_PLATFORM),y)
CONFIG_CNDRV_EDGE=y
CONFIG_CNDRV_MNT=n
CONFIG_CNDRV_COMMU=y
CONFIG_CNDRV_MIG=n
CONFIG_CNDRV_SBTS=y
CONFIG_CNDRV_PROC=y
CONFIG_CNDRV_IPCM=n
CONFIG_CNDRV_VUART=n
CONFIG_CNDRV_ION_EDGE=y
CONFIG_CNDRV_PCIE=n
CONFIG_CNDRV_SMLU=n
CONFIG_CNDRV_NOR=y
CONFIG_CNDRV_MCC=n
CONFIG_CNDRV_HOST_GDMA=n
CONFIG_CNDRV_CNLOG=n

ifneq (,$(filter $(BOARD_NAME), c20e_soc))
CONFIG_CNDRV_C20E_SOC=y
endif

ifneq (,$(filter $(BOARD_NAME), ce3225_soc))
CONFIG_CNDRV_PIGEON_SOC=y
CONFIG_CNDRV_HOST_GDMA=y
CONFIG_CNDRV_CNLOG=y
endif

ifneq (,$(filter $(BOARD_NAME), ce3226_soc))
CONFIG_CNDRV_CE3226_SOC=y
CONFIG_CNDRV_CNLOG=y
endif


else ifeq ($(CONFIG_CNDRV_PCIE_ARM_PLATFORM),y)
CONFIG_CNDRV_EDGE=y
CONFIG_CNDRV_MNT=n
CONFIG_CNDRV_COMMU=n
CONFIG_CNDRV_PCIE=n
CONFIG_CNDRV_MIG=n
CONFIG_CNDRV_SBTS=n
CONFIG_CNDRV_PROC=n
CONFIG_CNDRV_IPCM=n
CONFIG_CNDRV_VUART=n
CONFIG_CNDRV_ION_EDGE=n
CONFIG_CNDRV_SMLU=n
CONFIG_CNDRV_NOR=y
CONFIG_CNDRV_MCC=n
CONFIG_CNDRV_HOST_GDMA=n
CONFIG_CNDRV_CNLOG=n

else ifeq ($(CONFIG_CNDRV_PCIE_PLATFORM),y)
CONFIG_CNDRV_EDGE=n
CONFIG_CNDRV_I2C=y
CONFIG_CNDRV_IPC=y
CONFIG_CNDRV_FW=y
CONFIG_CNDRV_MNT=y
CONFIG_CNDRV_COMMU=y
CONFIG_CNDRV_PCIE=y
CONFIG_CNDRV_MIG=y
CONFIG_CNDRV_SBTS=y
CONFIG_CNDRV_PROC=y
CONFIG_CNDRV_IPCM=y
CONFIG_CNDRV_VUART=y
CONFIG_CNDRV_ION_EDGE=n
CONFIG_CNDRV_SMLU=y
CONFIG_CNDRV_NOR=y
CONFIG_CNDRV_MCC=y
CONFIG_CNDRV_HOST_GDMA=y
CONFIG_GDRDRV_MODULE=m
CONFIG_UTIL_DRV_MODULE=m
CONFIG_PEERMEM_MODULE=m
CONFIG_CNDRV_CNLOG=n
else
echo "platform error."
endif


# Notice: please remember to add CONFIG_CNDRV_XXX here also
LIST = CONFIG_CNDRV_EDGE		\
	CONFIG_CNDRV_MNT		\
	CONFIG_CNDRV_COMMU		\
	CONFIG_CNDRV_PCIE		\
	CONFIG_CNDRV_MIG		\
	CONFIG_CNDRV_SBTS		\
	CONFIG_CNDRV_PROC		\
	CONFIG_CNDRV_IPCM		\
	CONFIG_CNDRV_VUART		\
	CONFIG_CNDRV_ION_EDGE		\
	CONFIG_CNDRV_SMLU		\
	CONFIG_CNDRV_NOR		\
	CONFIG_CNDRV_MCC		\
	CONFIG_CNDRV_HOST_GDMA		\
	CONFIG_CNDRV_I2C		\
	CONFIG_CNDRV_IPC		\
	CONFIG_CNDRV_FW			\
	CONFIG_CNDRV_EDGE_PLATFORM	\
	CONFIG_CNDRV_PCIE_ARM_PLATFORM	\
	CONFIG_CNDRV_PCIE_PLATFORM	\
	CONFIG_CNDRV_C20E_SOC		\
	CONFIG_CNDRV_CE3226_SOC		\
	CONFIG_CNDRV_PIGEON_SOC		\
	CONFIG_CNDRV_CNLOG
